<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logger

```go
import "logo/logo"
```

Package logger provides functionality for structured logging.

This file contains the custom text handler implementation which formats log messages in a human\-readable text format with ordered attributes.

Package logger provides functionality for structured logging.

This file contains the JSON handler implementation which formats log messages as JSON objects, with optional pretty\-printing.

Package logger provides functionality for structured logging.

This file contains functions to query and manipulate the current log level in the logger configuration.

Package logger provides a flexible and extensible structured logging framework built on top of Go's standard library slog package. It enhances slog with features like customizable outputs, log levels including TRACE and FATAL, colorized console output, file rotation, log channels, and support for JSON formatting.

This package supports multiple logging backends simultaneously, including console, files \(with rotation via lumberjack\), and channels for custom processing.

Basic usage:

```
logger.Init(
	logger.SetLevel(slog.LevelInfo),
	logger.EnableTrace(),
	logger.AddSource(),
)

log := logger.L()
log.Info("Hello, world!", "user", "gopher")
```

For file logging with rotation:

```
logger.Init(
	logger.AddFileOutput("/path/to/log.file", 10, 3, 30, true),
)
```

For JSON output:

```
logger.Init(
	logger.UseJSON(true), // true for pretty-printed JSON
)
```

Package logger provides functionality for structured logging.

This file contains the channel writer implementation which allows log messages to be sent to a Go channel for asynchronous processing.

Package logger provides functionality for structured logging.

This file contains the console writer implementation with support for colorized and styled output to make log messages more readable in terminal environments.

Package logger provides functionality for structured logging.

This file contains the file writer implementation which supports log rotation through the lumberjack package.

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func Close\(\) error](<#Close>)
- [func GetCurrentLevel\(\) slog.Level](<#GetCurrentLevel>)
- [func Init\(opts ...LoggerOption\)](<#Init>)
- [func IsLevelEnabled\(level slog.Level\) bool](<#IsLevelEnabled>)
- [func NewCustomTextHandler\(out io.Writer, opts \*slog.HandlerOptions\) slog.Handler](<#NewCustomTextHandler>)
- [func NewJSONHandler\(out io.Writer, opts \*slog.HandlerOptions, pretty bool\) slog.Handler](<#NewJSONHandler>)
- [func NewLumberjackWriter\(filepath string, maxSizeMB, maxBackups, maxAgeDays int, compress bool\) \*lumberjack.Logger](<#NewLumberjackWriter>)
- [type ChannelWriter](<#ChannelWriter>)
  - [func NewChannelWriter\(ch chan string\) \*ChannelWriter](<#NewChannelWriter>)
  - [func \(cw \*ChannelWriter\) Write\(p \[\]byte\) \(int, error\)](<#ChannelWriter.Write>)
- [type CustomTextHandler](<#CustomTextHandler>)
  - [func \(h \*CustomTextHandler\) Enabled\(ctx context.Context, level slog.Level\) bool](<#CustomTextHandler.Enabled>)
  - [func \(h \*CustomTextHandler\) Handle\(ctx context.Context, r slog.Record\) error](<#CustomTextHandler.Handle>)
  - [func \(h \*CustomTextHandler\) WithAttrs\(attrs \[\]slog.Attr\) slog.Handler](<#CustomTextHandler.WithAttrs>)
  - [func \(h \*CustomTextHandler\) WithGroup\(name string\) slog.Handler](<#CustomTextHandler.WithGroup>)
- [type JSONHandler](<#JSONHandler>)
  - [func \(h \*JSONHandler\) Enabled\(ctx context.Context, level slog.Level\) bool](<#JSONHandler.Enabled>)
  - [func \(h \*JSONHandler\) Handle\(ctx context.Context, r slog.Record\) error](<#JSONHandler.Handle>)
  - [func \(h \*JSONHandler\) WithAttrs\(attrs \[\]slog.Attr\) slog.Handler](<#JSONHandler.WithAttrs>)
  - [func \(h \*JSONHandler\) WithGroup\(name string\) slog.Handler](<#JSONHandler.WithGroup>)
- [type Logger](<#Logger>)
  - [func L\(\) \*Logger](<#L>)
  - [func \(l \*Logger\) Fatal\(msg string, attrs ...any\)](<#Logger.Fatal>)
  - [func \(l \*Logger\) Trace\(msg string, attrs ...any\)](<#Logger.Trace>)
- [type LoggerOption](<#LoggerOption>)
  - [func AddChannelOutput\(ch chan string\) LoggerOption](<#AddChannelOutput>)
  - [func AddFileOutput\(filepath string, maxSizeMB, maxBackups, maxAgeDays int, compress bool\) LoggerOption](<#AddFileOutput>)
  - [func AddSource\(\) LoggerOption](<#AddSource>)
  - [func DisableColors\(\) LoggerOption](<#DisableColors>)
  - [func DisableConsole\(\) LoggerOption](<#DisableConsole>)
  - [func EnableLogLevelTrace\(\) LoggerOption](<#EnableLogLevelTrace>)
  - [func EnableStackTraces\(\) LoggerOption](<#EnableStackTraces>)
  - [func SetFileHandlerForTesting\(w io.Writer\) LoggerOption](<#SetFileHandlerForTesting>)
  - [func SetLevel\(level slog.Level\) LoggerOption](<#SetLevel>)
  - [func UseCustomHandler\(h slog.Handler\) LoggerOption](<#UseCustomHandler>)
  - [func UseJSON\(pretty bool\) LoggerOption](<#UseJSON>)
- [type StyledConsoleWriter](<#StyledConsoleWriter>)
  - [func NewStyledConsoleWriter\(w io.Writer\) \*StyledConsoleWriter](<#NewStyledConsoleWriter>)
  - [func \(cw \*StyledConsoleWriter\) Write\(p \[\]byte\) \(int, error\)](<#StyledConsoleWriter.Write>)


## Constants

<a name="LevelTrace"></a>Constants for additional log levels not provided by the standard slog package.

```go
const (
    // LevelTrace is a level below DEBUG for extremely verbose diagnostic information
    LevelTrace slog.Level = slog.LevelDebug - 5

    // LevelFatal is a level above ERROR that indicates a fatal error condition
    // which will cause the application to terminate after logging
    LevelFatal slog.Level = slog.LevelError + 1
)
```

## Variables

<a name="Version"></a>Version represents the current version of the logger package. It follows semantic versioning \(MAJOR.MINOR.PATCH\).

```go
var Version = "1.0.0"
```

<a name="Close"></a>
## func [Close](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L316>)

```go
func Close() error
```

Close properly closes all resources used by the logger. This ensures that all log messages are flushed and file handles are closed. It should be called before the application exits.

Returns:

- error: Any error encountered while closing resources

<a name="GetCurrentLevel"></a>
## func [GetCurrentLevel](<https://github.com/aN0mad/go-logo/blob/main/logo/levels.go#L24>)

```go
func GetCurrentLevel() slog.Level
```

GetCurrentLevel returns the current minimum log level configured in the logger.

Returns:

- slog.Level: The current log level

<a name="Init"></a>
## func [Init](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L129>)

```go
func Init(opts ...LoggerOption)
```

Init initializes the logger with the given options. It sets up outputs, formats, and handlers based on the provided options. If no options are provided, it defaults to console output in text format.

Options can be combined to customize the logger behavior:

```
logger.Init(
	logger.SetLevel(slog.LevelDebug),
	logger.EnableTrace(),
	logger.AddSource(),
	logger.AddFileOutput("/var/log/app.log", 10, 3, 30, true),
)
```

Parameters:

- opts: A variadic list of LoggerOption functions to configure the logger

Returns:

- None

<a name="IsLevelEnabled"></a>
## func [IsLevelEnabled](<https://github.com/aN0mad/go-logo/blob/main/logo/levels.go#L16>)

```go
func IsLevelEnabled(level slog.Level) bool
```

IsLevelEnabled checks if a log level is enabled based on the current logger configuration.

Parameters:

- level: The log level to check

Returns:

- bool: True if the level is enabled, false otherwise

<a name="NewCustomTextHandler"></a>
## func [NewCustomTextHandler](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L36>)

```go
func NewCustomTextHandler(out io.Writer, opts *slog.HandlerOptions) slog.Handler
```

NewCustomTextHandler creates a new text handler with ordered attributes.

Parameters:

- out: The io.Writer where log entries will be written
- opts: Handler options including log level and attribute replacements

Returns:

- slog.Handler: A handler implementation for text\-formatted logs

<a name="NewJSONHandler"></a>
## func [NewJSONHandler](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L36>)

```go
func NewJSONHandler(out io.Writer, opts *slog.HandlerOptions, pretty bool) slog.Handler
```

NewJSONHandler creates a new JSON handler with optional pretty printing.

Parameters:

- out: The io.Writer where JSON log entries will be written
- opts: Handler options including log level and attribute replacements
- pretty: Whether to format the JSON with indentation for better readability

Returns:

- slog.Handler: A handler implementation for JSON\-formatted logs

<a name="NewLumberjackWriter"></a>
## func [NewLumberjackWriter](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_file.go#L21>)

```go
func NewLumberjackWriter(filepath string, maxSizeMB, maxBackups, maxAgeDays int, compress bool) *lumberjack.Logger
```

NewLumberjackWriter creates a new writer that writes to a file with rotation support. It uses the lumberjack library to provide log rotation capabilities.

Parameters:

- filepath: The path to the log file
- maxSizeMB: Maximum size of the log file in megabytes before rotation
- maxBackups: Maximum number of old log files to retain
- maxAgeDays: Maximum number of days to retain old log files
- compress: If true, rotated log files will be compressed using gzip

Returns:

- \*lumberjack.Logger: A configured lumberjack logger that implements io.Writer

<a name="ChannelWriter"></a>
## type [ChannelWriter](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_channel.go#L13-L15>)

ChannelWriter is an io.Writer that sends log messages to a channel. It can be used to pass log messages to custom processing routines.

```go
type ChannelWriter struct {
    // contains filtered or unexported fields
}
```

<a name="NewChannelWriter"></a>
### func [NewChannelWriter](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_channel.go#L24>)

```go
func NewChannelWriter(ch chan string) *ChannelWriter
```

NewChannelWriter creates a new writer that sends log messages to the given channel.

Parameters:

- ch: The channel to which log messages will be sent

Returns:

- \*ChannelWriter: A channel writer that implements io.Writer

<a name="ChannelWriter.Write"></a>
### func \(\*ChannelWriter\) [Write](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_channel.go#L37>)

```go
func (cw *ChannelWriter) Write(p []byte) (int, error)
```

Write implements the io.Writer interface for ChannelWriter. It sends the log message to the channel associated with this writer.

Parameters:

- p: The byte slice containing the log message

Returns:

- int: The number of bytes processed
- error: Any error encountered during writing \(or nil if successful\)

<a name="CustomTextHandler"></a>
## type [CustomTextHandler](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L20-L26>)

CustomTextHandler is a slog.Handler that formats logs as structured text. It provides control over attribute ordering and supports all standard slog.Handler functionality.

```go
type CustomTextHandler struct {
    // contains filtered or unexported fields
}
```

<a name="CustomTextHandler.Enabled"></a>
### func \(\*CustomTextHandler\) [Enabled](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L56>)

```go
func (h *CustomTextHandler) Enabled(ctx context.Context, level slog.Level) bool
```

Enabled implements Handler.Enabled. It checks if the given log level should be processed based on the configured minimum level.

Parameters:

- ctx: The context for the logging operation
- level: The log level to check

Returns:

- bool: True if the log level should be processed, false otherwise

<a name="CustomTextHandler.Handle"></a>
### func \(\*CustomTextHandler\) [Handle](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L70>)

```go
func (h *CustomTextHandler) Handle(ctx context.Context, r slog.Record) error
```

Handle implements Handler.Handle. It processes a log record and outputs it in text format.

Parameters:

- ctx: The context for the logging operation
- r: The log record to process

Returns:

- error: Any error encountered during formatting or writing

<a name="CustomTextHandler.WithAttrs"></a>
### func \(\*CustomTextHandler\) [WithAttrs](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L171>)

```go
func (h *CustomTextHandler) WithAttrs(attrs []slog.Attr) slog.Handler
```

WithAttrs implements Handler.WithAttrs. It returns a new handler with the given attributes.

Parameters:

- attrs: The attributes to add to the handler

Returns:

- slog.Handler: A new handler instance with the attributes

<a name="CustomTextHandler.WithGroup"></a>
### func \(\*CustomTextHandler\) [WithGroup](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_custom.go#L208>)

```go
func (h *CustomTextHandler) WithGroup(name string) slog.Handler
```

WithGroup implements Handler.WithGroup. It returns a handler that adds the given group name to the attribute key path.

Parameters:

- name: The group name

Returns:

- slog.Handler: A new handler that includes the specified group

<a name="JSONHandler"></a>
## type [JSONHandler](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L20-L25>)

JSONHandler is a slog.Handler that formats logs as JSON. It provides control over pretty\-printing and supports all standard slog.Handler functionality.

```go
type JSONHandler struct {
    // contains filtered or unexported fields
}
```

<a name="JSONHandler.Enabled"></a>
### func \(\*JSONHandler\) [Enabled](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L55>)

```go
func (h *JSONHandler) Enabled(ctx context.Context, level slog.Level) bool
```

Enabled implements slog.Handler interface. It checks if the given log level should be processed based on the configured minimum level.

Parameters:

- ctx: The context for the logging operation
- level: The log level to check

Returns:

- bool: True if the log level should be processed, false otherwise

<a name="JSONHandler.Handle"></a>
### func \(\*JSONHandler\) [Handle](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L69>)

```go
func (h *JSONHandler) Handle(ctx context.Context, r slog.Record) error
```

Handle implements slog.Handler interface. It processes a log record and outputs it as JSON.

Parameters:

- ctx: The context for the logging operation
- r: The log record to process

Returns:

- error: Any error encountered during formatting or writing

<a name="JSONHandler.WithAttrs"></a>
### func \(\*JSONHandler\) [WithAttrs](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L155>)

```go
func (h *JSONHandler) WithAttrs(attrs []slog.Attr) slog.Handler
```

WithAttrs implements slog.Handler interface. It returns a new handler with the given attributes.

Parameters:

- attrs: The attributes to add to the handler

Returns:

- slog.Handler: A new handler instance with the attributes

<a name="JSONHandler.WithGroup"></a>
### func \(\*JSONHandler\) [WithGroup](<https://github.com/aN0mad/go-logo/blob/main/logo/handler_json.go#L168>)

```go
func (h *JSONHandler) WithGroup(name string) slog.Handler
```

WithGroup implements slog.Handler interface. It returns a handler that adds the given group name to the attribute key path.

Parameters:

- name: The group name

Returns:

- slog.Handler: A handler that adds the group name to the attribute key path

<a name="Logger"></a>
## type [Logger](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L107-L109>)

Logger is the main logging structure that wraps slog.Logger. It provides structured logging capabilities with additional convenience methods for different log levels.

```go
type Logger struct {
    *slog.Logger
}
```

<a name="L"></a>
### func [L](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L355>)

```go
func L() *Logger
```

L returns the current logger instance. It is safe to call concurrently and returns the same logger instance. This is the main entry point for logging in the application.

Returns:

- \*Logger: The configured Logger instance

<a name="Logger.Fatal"></a>
### func \(\*Logger\) [Fatal](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L409>)

```go
func (l *Logger) Fatal(msg string, attrs ...any)
```

Fatal logs the message and exits the program with status 1. This should be used for critical errors that require immediate termination.

Parameters:

- msg: The message to log
- attrs: Additional attributes to include with the log entry, provided as alternating keys and values

Returns:

- None: This function does not return as it calls os.Exit\(1\)

<a name="Logger.Trace"></a>
### func \(\*Logger\) [Trace](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L372>)

```go
func (l *Logger) Trace(msg string, attrs ...any)
```

Trace logs with a level below DEBUG and includes a stack trace. This is useful for very detailed diagnostic information typically needed during development or troubleshooting.

Parameters:

- msg: The message to log
- attrs: Additional attributes to include with the log entry, provided as alternating keys and values

Returns:

- None

<a name="LoggerOption"></a>
## type [LoggerOption](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L102>)

LoggerOption is a functional option type for configuring the logger. This allows for a flexible and extensible way to configure the logger with various options.

```go
type LoggerOption func()
```

<a name="AddChannelOutput"></a>
### func [AddChannelOutput](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L343>)

```go
func AddChannelOutput(ch chan string) LoggerOption
```

AddChannelOutput adds a channel output to the logger. This allows log messages to be sent to a channel for further processing or handling.

Parameters:

- ch: A channel of strings that will receive log messages

Returns:

- LoggerOption: A function that can be passed to Init\(\) to add channel output

<a name="AddFileOutput"></a>
### func [AddFileOutput](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L302>)

```go
func AddFileOutput(filepath string, maxSizeMB, maxBackups, maxAgeDays int, compress bool) LoggerOption
```

AddFileOutput adds file output to the logger with rotation support. This allows log messages to be written to a file, with automatic rotation when the file reaches the specified maximum size.

Parameters:

- filepath: The path to the log file
- maxSizeMB: Maximum size of the log file in megabytes before rotation
- maxBackups: Maximum number of old log files to retain
- maxAgeDays: Maximum number of days to retain old log files
- compress: If true, rotated log files will be compressed using gzip

Returns:

- LoggerOption: A function that can be passed to Init\(\) to add file output

<a name="AddSource"></a>
### func [AddSource](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L257>)

```go
func AddSource() LoggerOption
```

AddSource enables adding source file and line information to log messages. This helps with debugging by showing where each log message originated from.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to include source information

<a name="DisableColors"></a>
### func [DisableColors](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L208>)

```go
func DisableColors() LoggerOption
```

DisableColors disables colored output in console logs. This is useful for environments where ANSI color codes might cause issues, such as when logging to files or in environments that don't support colors.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to disable colored output

<a name="DisableConsole"></a>
### func [DisableConsole](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L283>)

```go
func DisableConsole() LoggerOption
```

DisableConsole disables the console output. This is useful for applications that do not require console logging, such as background services or daemons.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to disable console output

<a name="EnableLogLevelTrace"></a>
### func [EnableLogLevelTrace](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L219>)

```go
func EnableLogLevelTrace() LoggerOption
```

EnableLogLevelTrace enables trace logging level \(which is a level below DEBUG\). This is useful for capturing detailed information during development or debugging.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to set the trace log level

<a name="EnableStackTraces"></a>
### func [EnableStackTraces](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L231>)

```go
func EnableStackTraces() LoggerOption
```

EnableStackTraces enables stack trace inclusion in log messages. When enabled, a stack trace will be included with log messages, which can be helpful for debugging and error tracking.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to enable stack traces

<a name="SetFileHandlerForTesting"></a>
### func [SetFileHandlerForTesting](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L494>)

```go
func SetFileHandlerForTesting(w io.Writer) LoggerOption
```

SetFileHandlerForTesting is a special helper for test files to ensure proper handling of file outputs during testing

Parameters:

- w: The io.Writer to use for log output during testing

Returns:

- LoggerOption: A function that can be passed to Init\(\) to set a test file handler

<a name="SetLevel"></a>
### func [SetLevel](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L196>)

```go
func SetLevel(level slog.Level) LoggerOption
```

SetLevel sets the minimum log level that will be logged. Any log messages with a level lower than this will be ignored.

Parameters:

- level: The minimum log level to log \(e.g., slog.LevelDebug, slog.LevelInfo\)

Returns:

- LoggerOption: A function that can be passed to Init\(\) to configure the logger

<a name="UseCustomHandler"></a>
### func [UseCustomHandler](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L271>)

```go
func UseCustomHandler(h slog.Handler) LoggerOption
```

UseCustomHandler replaces the handler with a custom slog.Handler. This allows for complete customization of the logging behavior.

Parameters:

- h: A custom slog.Handler implementation

Returns:

- LoggerOption: A function that can be passed to Init\(\) to use a custom handler

<a name="UseJSON"></a>
### func [UseJSON](<https://github.com/aN0mad/go-logo/blob/main/logo/logo.go#L245>)

```go
func UseJSON(pretty bool) LoggerOption
```

UseJSON configures the logger to output logs in JSON format.

Parameters:

- pretty: If true, JSON will be formatted with indentation for better readability. If false, JSON will be compact without extra whitespace.

Returns:

- LoggerOption: A function that can be passed to Init\(\) to use JSON formatting

<a name="StyledConsoleWriter"></a>
## type [StyledConsoleWriter](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_console.go#L21-L23>)

StyledConsoleWriter is an io.Writer that formats log messages with styles and colors. It detects log levels and applies appropriate styling to make logs more readable.

```go
type StyledConsoleWriter struct {
    // contains filtered or unexported fields
}
```

<a name="NewStyledConsoleWriter"></a>
### func [NewStyledConsoleWriter](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_console.go#L32>)

```go
func NewStyledConsoleWriter(w io.Writer) *StyledConsoleWriter
```

NewStyledConsoleWriter creates a new StyledConsoleWriter instance.

Parameters:

- w: The underlying io.Writer where formatted output will be written \(typically os.Stdout\)

Returns:

- \*StyledConsoleWriter: A new styled console writer that implements io.Writer

<a name="StyledConsoleWriter.Write"></a>
### func \(\*StyledConsoleWriter\) [Write](<https://github.com/aN0mad/go-logo/blob/main/logo/writer_console.go#L57>)

```go
func (cw *StyledConsoleWriter) Write(p []byte) (int, error)
```

Write implements the io.Writer interface for StyledConsoleWriter. It formats the log message with appropriate styles and colors based on the log level.

Parameters:

- p: The byte slice containing the log message to write

Returns:

- int: The number of bytes written
- error: Any error encountered during writing

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
